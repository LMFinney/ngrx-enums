{"version":3,"file":"ngrx-enums.es5.js","sources":["../node_modules/ts-enums/src/ts-enums.ts","../node_modules/rxjs/src/util/root.ts","../node_modules/rxjs/src/util/isFunction.ts","../node_modules/rxjs/src/util/isArray.ts","../node_modules/rxjs/src/util/isObject.ts","../node_modules/rxjs/src/util/errorObject.ts","../node_modules/rxjs/src/util/tryCatch.ts","../node_modules/rxjs/src/util/UnsubscriptionError.ts","../node_modules/rxjs/src/Subscription.ts","../node_modules/rxjs/src/Observer.ts","../node_modules/rxjs/src/symbol/rxSubscriber.ts","../node_modules/rxjs/src/Subscriber.ts","../node_modules/rxjs/src/symbol/observable.ts","../node_modules/rxjs/src/operator/map.ts","../src/action-enum.ts","../src/reducer-enum.ts"],"sourcesContent":["const INITIALIZED: symbol = Symbol();\r\n\r\n/**\r\n * An instance of the enum (for example, if you have an enumeration of seasons,\r\n * Winter would be an EnumValue.\r\n */\r\nexport abstract class EnumValue {\r\n  private _ordinal: number; // set in Enum.enumValuesFromObject\r\n  private _propName: string; // set in Enum.enumValuesFromObject\r\n\r\n  /**\r\n   * `initEnum()` on Enum closes the class, so subsequence calls to this\r\n   * constructor throw an exception.\r\n   */\r\n  constructor(private _description: string) {\r\n    if ({}.hasOwnProperty.call(new.target, INITIALIZED)) {\r\n      throw new Error('EnumValue classes canâ€™t be instantiated individually');\r\n    }\r\n  }\r\n\r\n  /**\r\n   * The description of the instance passed into the constructor - may be the\r\n   * same as the propName.\r\n   *\r\n   * @returns {string} The description\r\n   */\r\n  get description(): string {\r\n    return this._description;\r\n  }\r\n\r\n  toString() {\r\n    return `${this.constructor.name}.${this.propName}`;\r\n  }\r\n\r\n  /**\r\n   * Returns the index of the instance in the enum (0-based)\r\n   *\r\n   * @returns {number} The index of the instance in the enum (0-based)\r\n   */\r\n  get ordinal(): number {\r\n    return this._ordinal;\r\n  }\r\n\r\n  /**\r\n   * Returns the property name used for this instance in the Enum.\r\n   *\r\n   * @returns {string} the property name used for this instance in the Enum\r\n   */\r\n  get propName(): string {\r\n    return this._propName;\r\n  }\r\n}\r\n\r\n/**\r\n * This is an abstract class that is not intended to be used directly. Extend it\r\n * to turn your class into an enum (initialization is performed via\r\n * `this.initEnum()` within the constructor).\r\n */\r\nexport abstract class Enum<T extends EnumValue> {\r\n  private static enumValues: Map<string, EnumValue[]> = new Map<\r\n    string,\r\n    EnumValue[]\r\n  >();\r\n  private name: string;\r\n\r\n  /**\r\n   * Set up the enum and close the class. This must be called after the\r\n   * constructor to set up the logic.\r\n   *\r\n   * @param name The name that will be used for internal storage - must be\r\n   * unique\r\n   * @param theEnum The enum to process\r\n   */\r\n  private static initEnum<T extends EnumValue>(\r\n    name: string,\r\n    theEnum: Enum<T>\r\n  ): void {\r\n    if (Enum.enumValues.has(theEnum.name)) {\r\n      throw new Error(`Duplicate name: ${theEnum.name}`);\r\n    }\r\n    let enumValues: T[] = this.enumValuesFromObject(theEnum);\r\n    Object.freeze(theEnum);\r\n    Enum.enumValues.set(theEnum.name, enumValues);\r\n  }\r\n\r\n  /**\r\n   * Extract the enumValues from the Enum. We set the ordinal and propName\r\n   * properties on the EnumValue. We also freeze the objects and lock the Enum\r\n   * and EnumValue to prevent future instantiation.\r\n   *\r\n   * @param theEnum The enum to process\r\n   * @returns {T[]} The array of EnumValues\r\n   */\r\n  private static enumValuesFromObject<T extends EnumValue>(\r\n    theEnum: Enum<T>\r\n  ): T[] {\r\n    const values: T[] = Object.getOwnPropertyNames(theEnum)\r\n      .filter((propName: string) => theEnum[propName] instanceof EnumValue)\r\n      .map((propName: string, index: number) => {\r\n        const enumValue: T = theEnum[propName];\r\n        Object.defineProperty(enumValue, '_ordinal', {\r\n          value: index,\r\n          configurable: false,\r\n          writable: false,\r\n          enumerable: true\r\n        });\r\n        Object.defineProperty(enumValue, '_propName', {\r\n          value: propName,\r\n          configurable: false,\r\n          writable: false,\r\n          enumerable: true\r\n        });\r\n        Object.freeze(enumValue);\r\n        return enumValue;\r\n      });\r\n    if (values.length) {\r\n      values[0].constructor[INITIALIZED] = true;\r\n    }\r\n\r\n    let descriptions: string[] = values.map(\r\n      (value: T): string => value.description\r\n    );\r\n    if (values.length !== this.unique(descriptions).length) {\r\n      throw new Error(\r\n        'All descriptions must be unique for a given enum type.' +\r\n          `Instead, there are multiples in ${theEnum.name}`\r\n      );\r\n    }\r\n    return values;\r\n  }\r\n\r\n  /**\r\n   * Extract the unique values from an array. Based on \r\n   * https://stackoverflow.com/a/23282057.\r\n   */\r\n  private static unique<T>(values: T[]): T[] {\r\n    return values.filter((value: T, i: number) => values.indexOf(value) === i);\r\n  }\r\n\r\n  private static values(name: string): EnumValue[] {\r\n    let values: EnumValue[] | undefined = this.enumValues.get(name);\r\n    return values ? [...values] : [];\r\n  }\r\n\r\n  /**\r\n   * Given the property name of an enum constant, return its value.\r\n   *\r\n   * @param propName The property name to search by\r\n   * @returns {undefined|T} The matching instance\r\n   */\r\n  byPropName(propName: string): T | undefined {\r\n    return this.values.find((x: T) => x.propName === propName);\r\n  }\r\n\r\n  /**\r\n   * Given the description of an enum constant, return its value.\r\n   *\r\n   * @param description The property name to search by\r\n   * @returns {undefined|T} The matching instance\r\n   */\r\n  byDescription(description: string): T | undefined {\r\n    return this.values.find((x: T) => x.description === description);\r\n  }\r\n\r\n  /**\r\n   * Return a defensively-copied array of all the elements of the enum.\r\n   *\r\n   * @returns {T[]} The array of EnumValues\r\n   */\r\n  get values(): T[] {\r\n    return Enum.values(this.name) as T[];\r\n  }\r\n\r\n  /**\r\n   * Returns a simple representation of the type.\r\n   *\r\n   * @returns {string} a simple representation of the type\r\n   */\r\n  toString(): string {\r\n    return this.name;\r\n  }\r\n\r\n  /**\r\n   * Set up the enum and close the class.\r\n   *\r\n   * @param name The name that will be used for internal storage - must be unique\r\n   */\r\n  protected initEnum(name: string): void {\r\n    this.name = name;\r\n    Enum.initEnum(name, this);\r\n  }\r\n}\r\n","declare let global: any;\n\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\ndeclare var WorkerGlobalScope: any;\n// CommonJS / Node have global context exposed as \"global\" variable.\n// We don't want to include the whole node.d.ts this this compilation unit so we'll just fake\n// the global \"global\" var for now.\n\nconst __window = typeof window !== 'undefined' && window;\nconst __self = typeof self !== 'undefined' && typeof WorkerGlobalScope !== 'undefined' &&\n    self instanceof WorkerGlobalScope && self;\nconst __global = typeof global !== 'undefined' && global;\nconst _root: any = __window || __global || __self;\n\n// Workaround Closure Compiler restriction: The body of a goog.module cannot use throw.\n// This is needed when used with angular/tsickle which inserts a goog.module statement.\n// Wrap in IIFE\n(function () {\n  if (!_root) {\n    throw new Error('RxJS could not find any global context (window, self, global)');\n  }\n})();\n\nexport { _root as root };","export function isFunction(x: any): x is Function {\n  return typeof x === 'function';\n}\n","export const isArray = Array.isArray || (<T>(x: any): x is T[] => x && typeof x.length === 'number');\n","export function isObject(x: any): x is Object {\n  return x != null && typeof x === 'object';\n}\n","// typeof any so that it we don't have to cast when comparing a result to the error object\nexport const errorObject: any = { e: {} };","import { errorObject } from './errorObject';\n\nlet tryCatchTarget: Function;\n\nfunction tryCatcher(this: any): any {\n  try {\n    return tryCatchTarget.apply(this, arguments);\n  } catch (e) {\n    errorObject.e = e;\n    return errorObject;\n  }\n}\n\nexport function tryCatch<T extends Function>(fn: T): T {\n  tryCatchTarget = fn;\n  return <any>tryCatcher;\n};\n","/**\n * An error thrown when one or more errors have occurred during the\n * `unsubscribe` of a {@link Subscription}.\n */\nexport class UnsubscriptionError extends Error {\n  constructor(public errors: any[]) {\n    super();\n    const err: any = Error.call(this, errors ?\n      `${errors.length} errors occurred during unsubscription:\n  ${errors.map((err, i) => `${i + 1}) ${err.toString()}`).join('\\n  ')}` : '');\n    (<any> this).name = err.name = 'UnsubscriptionError';\n    (<any> this).stack = err.stack;\n    (<any> this).message = err.message;\n  }\n}\n","import { isArray } from './util/isArray';\nimport { isObject } from './util/isObject';\nimport { isFunction } from './util/isFunction';\nimport { tryCatch } from './util/tryCatch';\nimport { errorObject } from './util/errorObject';\nimport { UnsubscriptionError } from './util/UnsubscriptionError';\n\nexport interface AnonymousSubscription {\n  unsubscribe(): void;\n}\n\nexport type TeardownLogic = AnonymousSubscription | Function | void;\n\nexport interface ISubscription extends AnonymousSubscription {\n  unsubscribe(): void;\n  readonly closed: boolean;\n}\n\n/**\n * Represents a disposable resource, such as the execution of an Observable. A\n * Subscription has one important method, `unsubscribe`, that takes no argument\n * and just disposes the resource held by the subscription.\n *\n * Additionally, subscriptions may be grouped together through the `add()`\n * method, which will attach a child Subscription to the current Subscription.\n * When a Subscription is unsubscribed, all its children (and its grandchildren)\n * will be unsubscribed as well.\n *\n * @class Subscription\n */\nexport class Subscription implements ISubscription {\n  public static EMPTY: Subscription = (function(empty: any){\n    empty.closed = true;\n    return empty;\n  }(new Subscription()));\n\n  /**\n   * A flag to indicate whether this Subscription has already been unsubscribed.\n   * @type {boolean}\n   */\n  public closed: boolean = false;\n\n  protected _parent: Subscription = null;\n  protected _parents: Subscription[] = null;\n  private _subscriptions: ISubscription[] = null;\n\n  /**\n   * @param {function(): void} [unsubscribe] A function describing how to\n   * perform the disposal of resources when the `unsubscribe` method is called.\n   */\n  constructor(unsubscribe?: () => void) {\n    if (unsubscribe) {\n      (<any> this)._unsubscribe = unsubscribe;\n    }\n  }\n\n  /**\n   * Disposes the resources held by the subscription. May, for instance, cancel\n   * an ongoing Observable execution or cancel any other type of work that\n   * started when the Subscription was created.\n   * @return {void}\n   */\n  unsubscribe(): void {\n    let hasErrors = false;\n    let errors: any[];\n\n    if (this.closed) {\n      return;\n    }\n\n    let { _parent, _parents, _unsubscribe, _subscriptions } = (<any> this);\n\n    this.closed = true;\n    this._parent = null;\n    this._parents = null;\n    // null out _subscriptions first so any child subscriptions that attempt\n    // to remove themselves from this subscription will noop\n    this._subscriptions = null;\n\n    let index = -1;\n    let len = _parents ? _parents.length : 0;\n\n    // if this._parent is null, then so is this._parents, and we\n    // don't have to remove ourselves from any parent subscriptions.\n    while (_parent) {\n      _parent.remove(this);\n      // if this._parents is null or index >= len,\n      // then _parent is set to null, and the loop exits\n      _parent = ++index < len && _parents[index] || null;\n    }\n\n    if (isFunction(_unsubscribe)) {\n      let trial = tryCatch(_unsubscribe).call(this);\n      if (trial === errorObject) {\n        hasErrors = true;\n        errors = errors || (\n          errorObject.e instanceof UnsubscriptionError ?\n            flattenUnsubscriptionErrors(errorObject.e.errors) : [errorObject.e]\n        );\n      }\n    }\n\n    if (isArray(_subscriptions)) {\n\n      index = -1;\n      len = _subscriptions.length;\n\n      while (++index < len) {\n        const sub = _subscriptions[index];\n        if (isObject(sub)) {\n          let trial = tryCatch(sub.unsubscribe).call(sub);\n          if (trial === errorObject) {\n            hasErrors = true;\n            errors = errors || [];\n            let err = errorObject.e;\n            if (err instanceof UnsubscriptionError) {\n              errors = errors.concat(flattenUnsubscriptionErrors(err.errors));\n            } else {\n              errors.push(err);\n            }\n          }\n        }\n      }\n    }\n\n    if (hasErrors) {\n      throw new UnsubscriptionError(errors);\n    }\n  }\n\n  /**\n   * Adds a tear down to be called during the unsubscribe() of this\n   * Subscription.\n   *\n   * If the tear down being added is a subscription that is already\n   * unsubscribed, is the same reference `add` is being called on, or is\n   * `Subscription.EMPTY`, it will not be added.\n   *\n   * If this subscription is already in an `closed` state, the passed\n   * tear down logic will be executed immediately.\n   *\n   * @param {TeardownLogic} teardown The additional logic to execute on\n   * teardown.\n   * @return {Subscription} Returns the Subscription used or created to be\n   * added to the inner subscriptions list. This Subscription can be used with\n   * `remove()` to remove the passed teardown logic from the inner subscriptions\n   * list.\n   */\n  add(teardown: TeardownLogic): Subscription {\n    if (!teardown || (teardown === Subscription.EMPTY)) {\n      return Subscription.EMPTY;\n    }\n\n    if (teardown === this) {\n      return this;\n    }\n\n    let subscription = (<Subscription> teardown);\n\n    switch (typeof teardown) {\n      case 'function':\n        subscription = new Subscription(<(() => void) > teardown);\n      case 'object':\n        if (subscription.closed || typeof subscription.unsubscribe !== 'function') {\n          return subscription;\n        } else if (this.closed) {\n          subscription.unsubscribe();\n          return subscription;\n        } else if (typeof subscription._addParent !== 'function' /* quack quack */) {\n          const tmp = subscription;\n          subscription = new Subscription();\n          subscription._subscriptions = [tmp];\n        }\n        break;\n      default:\n        throw new Error('unrecognized teardown ' + teardown + ' added to Subscription.');\n    }\n\n    const subscriptions = this._subscriptions || (this._subscriptions = []);\n\n    subscriptions.push(subscription);\n    subscription._addParent(this);\n\n    return subscription;\n  }\n\n  /**\n   * Removes a Subscription from the internal list of subscriptions that will\n   * unsubscribe during the unsubscribe process of this Subscription.\n   * @param {Subscription} subscription The subscription to remove.\n   * @return {void}\n   */\n  remove(subscription: Subscription): void {\n    const subscriptions = this._subscriptions;\n    if (subscriptions) {\n      const subscriptionIndex = subscriptions.indexOf(subscription);\n      if (subscriptionIndex !== -1) {\n        subscriptions.splice(subscriptionIndex, 1);\n      }\n    }\n  }\n\n  private _addParent(parent: Subscription) {\n    let { _parent, _parents } = this;\n    if (!_parent || _parent === parent) {\n      // If we don't have a parent, or the new parent is the same as the\n      // current parent, then set this._parent to the new parent.\n      this._parent = parent;\n    } else if (!_parents) {\n      // If there's already one parent, but not multiple, allocate an Array to\n      // store the rest of the parent Subscriptions.\n      this._parents = [parent];\n    } else if (_parents.indexOf(parent) === -1) {\n      // Only add the new parent to the _parents list if it's not already there.\n      _parents.push(parent);\n    }\n  }\n}\n\nfunction flattenUnsubscriptionErrors(errors: any[]) {\n return errors.reduce((errs, err) => errs.concat((err instanceof UnsubscriptionError) ? err.errors : err), []);\n}\n","export interface NextObserver<T> {\n  closed?: boolean;\n  next: (value: T) => void;\n  error?: (err: any) => void;\n  complete?: () => void;\n}\n\nexport interface ErrorObserver<T> {\n  closed?: boolean;\n  next?: (value: T) => void;\n  error: (err: any) => void;\n  complete?: () => void;\n}\n\nexport interface CompletionObserver<T> {\n  closed?: boolean;\n  next?: (value: T) => void;\n  error?: (err: any) => void;\n  complete: () => void;\n}\n\nexport type PartialObserver<T> = NextObserver<T> | ErrorObserver<T> | CompletionObserver<T>;\n\nexport interface Observer<T> {\n  closed?: boolean;\n  next: (value: T) => void;\n  error: (err: any) => void;\n  complete: () => void;\n}\n\nexport const empty: Observer<any> = {\n  closed: true,\n  next(value: any): void { /* noop */},\n  error(err: any): void { throw err; },\n  complete(): void { /*noop*/ }\n};\n","import { root } from '../util/root';\n\nconst Symbol: any = root.Symbol;\n\nexport const rxSubscriber = (typeof Symbol === 'function' && typeof Symbol.for === 'function') ?\n  Symbol.for('rxSubscriber') : '@@rxSubscriber';\n\n/**\n * @deprecated use rxSubscriber instead\n */\nexport const $$rxSubscriber = rxSubscriber;\n","import { isFunction } from './util/isFunction';\nimport { Observer, PartialObserver } from './Observer';\nimport { Subscription } from './Subscription';\nimport { empty as emptyObserver } from './Observer';\nimport { rxSubscriber as rxSubscriberSymbol } from './symbol/rxSubscriber';\n\n/**\n * Implements the {@link Observer} interface and extends the\n * {@link Subscription} class. While the {@link Observer} is the public API for\n * consuming the values of an {@link Observable}, all Observers get converted to\n * a Subscriber, in order to provide Subscription-like capabilities such as\n * `unsubscribe`. Subscriber is a common type in RxJS, and crucial for\n * implementing operators, but it is rarely used as a public API.\n *\n * @class Subscriber<T>\n */\nexport class Subscriber<T> extends Subscription implements Observer<T> {\n\n  [rxSubscriberSymbol]() { return this; }\n\n  /**\n   * A static factory for a Subscriber, given a (potentially partial) definition\n   * of an Observer.\n   * @param {function(x: ?T): void} [next] The `next` callback of an Observer.\n   * @param {function(e: ?any): void} [error] The `error` callback of an\n   * Observer.\n   * @param {function(): void} [complete] The `complete` callback of an\n   * Observer.\n   * @return {Subscriber<T>} A Subscriber wrapping the (partially defined)\n   * Observer represented by the given arguments.\n   */\n  static create<T>(next?: (x?: T) => void,\n                   error?: (e?: any) => void,\n                   complete?: () => void): Subscriber<T> {\n    const subscriber = new Subscriber(next, error, complete);\n    subscriber.syncErrorThrowable = false;\n    return subscriber;\n  }\n\n  public syncErrorValue: any = null;\n  public syncErrorThrown: boolean = false;\n  public syncErrorThrowable: boolean = false;\n\n  protected isStopped: boolean = false;\n  protected destination: PartialObserver<any>; // this `any` is the escape hatch to erase extra type param (e.g. R)\n\n  /**\n   * @param {Observer|function(value: T): void} [destinationOrNext] A partially\n   * defined Observer or a `next` callback function.\n   * @param {function(e: ?any): void} [error] The `error` callback of an\n   * Observer.\n   * @param {function(): void} [complete] The `complete` callback of an\n   * Observer.\n   */\n  constructor(destinationOrNext?: PartialObserver<any> | ((value: T) => void),\n              error?: (e?: any) => void,\n              complete?: () => void) {\n    super();\n\n    switch (arguments.length) {\n      case 0:\n        this.destination = emptyObserver;\n        break;\n      case 1:\n        if (!destinationOrNext) {\n          this.destination = emptyObserver;\n          break;\n        }\n        if (typeof destinationOrNext === 'object') {\n          if (destinationOrNext instanceof Subscriber) {\n            this.destination = (<Subscriber<any>> destinationOrNext);\n            (<any> this.destination).add(this);\n          } else {\n            this.syncErrorThrowable = true;\n            this.destination = new SafeSubscriber<T>(this, <PartialObserver<any>> destinationOrNext);\n          }\n          break;\n        }\n      default:\n        this.syncErrorThrowable = true;\n        this.destination = new SafeSubscriber<T>(this, <((value: T) => void)> destinationOrNext, error, complete);\n        break;\n    }\n  }\n\n  /**\n   * The {@link Observer} callback to receive notifications of type `next` from\n   * the Observable, with a value. The Observable may call this method 0 or more\n   * times.\n   * @param {T} [value] The `next` value.\n   * @return {void}\n   */\n  next(value?: T): void {\n    if (!this.isStopped) {\n      this._next(value);\n    }\n  }\n\n  /**\n   * The {@link Observer} callback to receive notifications of type `error` from\n   * the Observable, with an attached {@link Error}. Notifies the Observer that\n   * the Observable has experienced an error condition.\n   * @param {any} [err] The `error` exception.\n   * @return {void}\n   */\n  error(err?: any): void {\n    if (!this.isStopped) {\n      this.isStopped = true;\n      this._error(err);\n    }\n  }\n\n  /**\n   * The {@link Observer} callback to receive a valueless notification of type\n   * `complete` from the Observable. Notifies the Observer that the Observable\n   * has finished sending push-based notifications.\n   * @return {void}\n   */\n  complete(): void {\n    if (!this.isStopped) {\n      this.isStopped = true;\n      this._complete();\n    }\n  }\n\n  unsubscribe(): void {\n    if (this.closed) {\n      return;\n    }\n    this.isStopped = true;\n    super.unsubscribe();\n  }\n\n  protected _next(value: T): void {\n    this.destination.next(value);\n  }\n\n  protected _error(err: any): void {\n    this.destination.error(err);\n    this.unsubscribe();\n  }\n\n  protected _complete(): void {\n    this.destination.complete();\n    this.unsubscribe();\n  }\n\n  protected _unsubscribeAndRecycle(): Subscriber<T> {\n    const { _parent, _parents } = this;\n    this._parent = null;\n    this._parents = null;\n    this.unsubscribe();\n    this.closed = false;\n    this.isStopped = false;\n    this._parent = _parent;\n    this._parents = _parents;\n    return this;\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nclass SafeSubscriber<T> extends Subscriber<T> {\n\n  private _context: any;\n\n  constructor(private _parentSubscriber: Subscriber<T>,\n              observerOrNext?: PartialObserver<T> | ((value: T) => void),\n              error?: (e?: any) => void,\n              complete?: () => void) {\n    super();\n\n    let next: ((value: T) => void);\n    let context: any = this;\n\n    if (isFunction(observerOrNext)) {\n      next = (<((value: T) => void)> observerOrNext);\n    } else if (observerOrNext) {\n      next = (<PartialObserver<T>> observerOrNext).next;\n      error = (<PartialObserver<T>> observerOrNext).error;\n      complete = (<PartialObserver<T>> observerOrNext).complete;\n      if (observerOrNext !== emptyObserver) {\n        context = Object.create(observerOrNext);\n        if (isFunction(context.unsubscribe)) {\n          this.add(<() => void> context.unsubscribe.bind(context));\n        }\n        context.unsubscribe = this.unsubscribe.bind(this);\n      }\n    }\n\n    this._context = context;\n    this._next = next;\n    this._error = error;\n    this._complete = complete;\n  }\n\n  next(value?: T): void {\n    if (!this.isStopped && this._next) {\n      const { _parentSubscriber } = this;\n      if (!_parentSubscriber.syncErrorThrowable) {\n        this.__tryOrUnsub(this._next, value);\n      } else if (this.__tryOrSetError(_parentSubscriber, this._next, value)) {\n        this.unsubscribe();\n      }\n    }\n  }\n\n  error(err?: any): void {\n    if (!this.isStopped) {\n      const { _parentSubscriber } = this;\n      if (this._error) {\n        if (!_parentSubscriber.syncErrorThrowable) {\n          this.__tryOrUnsub(this._error, err);\n          this.unsubscribe();\n        } else {\n          this.__tryOrSetError(_parentSubscriber, this._error, err);\n          this.unsubscribe();\n        }\n      } else if (!_parentSubscriber.syncErrorThrowable) {\n        this.unsubscribe();\n        throw err;\n      } else {\n        _parentSubscriber.syncErrorValue = err;\n        _parentSubscriber.syncErrorThrown = true;\n        this.unsubscribe();\n      }\n    }\n  }\n\n  complete(): void {\n    if (!this.isStopped) {\n      const { _parentSubscriber } = this;\n      if (this._complete) {\n        const wrappedComplete = () => this._complete.call(this._context);\n\n        if (!_parentSubscriber.syncErrorThrowable) {\n          this.__tryOrUnsub(wrappedComplete);\n          this.unsubscribe();\n        } else {\n          this.__tryOrSetError(_parentSubscriber, wrappedComplete);\n          this.unsubscribe();\n        }\n      } else {\n        this.unsubscribe();\n      }\n    }\n  }\n\n  private __tryOrUnsub(fn: Function, value?: any): void {\n    try {\n      fn.call(this._context, value);\n    } catch (err) {\n      this.unsubscribe();\n      throw err;\n    }\n  }\n\n  private __tryOrSetError(parent: Subscriber<T>, fn: Function, value?: any): boolean {\n    try {\n      fn.call(this._context, value);\n    } catch (err) {\n      parent.syncErrorValue = err;\n      parent.syncErrorThrown = true;\n      return true;\n    }\n    return false;\n  }\n\n  protected _unsubscribe(): void {\n    const { _parentSubscriber } = this;\n    this._context = null;\n    this._parentSubscriber = null;\n    _parentSubscriber.unsubscribe();\n  }\n}\n","import { root } from '../util/root';\n\nexport function getSymbolObservable(context: any) {\n  let $$observable: any;\n  let Symbol = context.Symbol;\n\n  if (typeof Symbol === 'function') {\n    if (Symbol.observable) {\n      $$observable = Symbol.observable;\n    } else {\n        $$observable = Symbol('observable');\n        Symbol.observable = $$observable;\n    }\n  } else {\n    $$observable = '@@observable';\n  }\n\n  return $$observable;\n}\n\nexport const observable = getSymbolObservable(root);\n\n/**\n * @deprecated use observable instead\n */\nexport const $$observable = observable;\n","import { Operator } from '../Operator';\nimport { Subscriber } from '../Subscriber';\nimport { Observable } from '../Observable';\n\n/**\n * Applies a given `project` function to each value emitted by the source\n * Observable, and emits the resulting values as an Observable.\n *\n * <span class=\"informal\">Like [Array.prototype.map()](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map),\n * it passes each source value through a transformation function to get\n * corresponding output values.</span>\n *\n * <img src=\"./img/map.png\" width=\"100%\">\n *\n * Similar to the well known `Array.prototype.map` function, this operator\n * applies a projection to each value and emits that projection in the output\n * Observable.\n *\n * @example <caption>Map every click to the clientX position of that click</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var positions = clicks.map(ev => ev.clientX);\n * positions.subscribe(x => console.log(x));\n *\n * @see {@link mapTo}\n * @see {@link pluck}\n *\n * @param {function(value: T, index: number): R} project The function to apply\n * to each `value` emitted by the source Observable. The `index` parameter is\n * the number `i` for the i-th emission that has happened since the\n * subscription, starting from the number `0`.\n * @param {any} [thisArg] An optional argument to define what `this` is in the\n * `project` function.\n * @return {Observable<R>} An Observable that emits the values from the source\n * Observable transformed by the given `project` function.\n * @method map\n * @owner Observable\n */\nexport function map<T, R>(this: Observable<T>, project: (value: T, index: number) => R, thisArg?: any): Observable<R> {\n  if (typeof project !== 'function') {\n    throw new TypeError('argument is not a function. Are you looking for `mapTo()`?');\n  }\n  return this.lift(new MapOperator(project, thisArg));\n}\n\nexport class MapOperator<T, R> implements Operator<T, R> {\n  constructor(private project: (value: T, index: number) => R, private thisArg: any) {\n  }\n\n  call(subscriber: Subscriber<R>, source: any): any {\n    return source.subscribe(new MapSubscriber(subscriber, this.project, this.thisArg));\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nclass MapSubscriber<T, R> extends Subscriber<T> {\n  count: number = 0;\n  private thisArg: any;\n\n  constructor(destination: Subscriber<R>,\n              private project: (value: T, index: number) => R,\n              thisArg: any) {\n    super(destination);\n    this.thisArg = thisArg || this;\n  }\n\n  // NOTE: This looks unoptimized, but it's actually purposefully NOT\n  // using try/catch optimizations.\n  protected _next(value: T) {\n    let result: any;\n    try {\n      result = this.project.call(this.thisArg, value, this.count++);\n    } catch (err) {\n      this.destination.error(err);\n      return;\n    }\n    this.destination.next(result);\n  }\n}\n","import {Enum, EnumValue} from 'ts-enums';\r\nimport {Action} from '@ngrx/store';\r\nimport {Observable} from 'rxjs/Observable';\r\nimport 'rxjs/add/operator/map';\r\n\r\nexport interface Actions {\r\n  ofType(...allowedTypes: string[]): Observable<TypedAction<any>>;\r\n}\r\n\r\n/**\r\n * A version of Action that uses generics to express the type of the payload.\r\n */\r\nexport class TypedAction<T> implements Action {\r\n  constructor(public type: string, public payload?: T) {}\r\n}\r\n\r\n/**\r\n * The abstract base for the action enum instances.\r\n */\r\nexport abstract class ActionEnumValue<T> extends EnumValue {\r\n  constructor(_name: string) {\r\n    super(_name);\r\n  }\r\n\r\n  /**\r\n   * Create the Action that contains the optional payload.\r\n   */\r\n  toAction(payload?: T): TypedAction<T> {\r\n    return new TypedAction(this.description, payload);\r\n  }\r\n\r\n  /**\r\n   * Get the payload from an action of this type.\r\n   */\r\n  toPayload(action: TypedAction<T>): T | undefined {\r\n    return action.payload;\r\n  }\r\n\r\n  /**\r\n   * Insert a map to payload operation into an observable chain\r\n   */\r\n  map(observable: Observable<TypedAction<T>>): Observable<T | undefined> {\r\n    return observable.map(this.toPayload);\r\n  }\r\n\r\n  /**\r\n   * Create an observable of the payload of actions of this type (for creating effects)\r\n   *\r\n   * ex:\r\n   *   @Effect() getHero$ = HeroActionEnum.GET_HERO.of(this.actions$)\r\n   *       .switchMap(id => this.svc.getHero(id))\r\n   *       .map(hero => HeroActionEnum.GET_HERO_SUCCESS.toAction(hero))\r\n   *       .catch(handleError);\r\n   */\r\n  of(actions$: Actions): Observable<T | undefined> {\r\n    return this.map(actions$.ofType(this.type));\r\n  }\r\n\r\n  /**\r\n   * For use in reducer. Acts as both a Typescript type guard and a means for\r\n   * determining which reducer code to execute.\r\n   */\r\n  matches(action: TypedAction<any>): action is TypedAction<T> {\r\n    return action.type === this.type;\r\n  }\r\n\r\n  get type(): string {\r\n    return this.description;\r\n  }\r\n\r\n  get fullName(): string {\r\n    return `[${this.constructor.name}] ${this.description}`;\r\n  }\r\n}\r\n\r\n/**\r\n * The abstract base for the action enum types.\r\n */\r\nexport abstract class ActionEnum<V extends ActionEnumValue<any>> extends Enum<\r\n  V\r\n> {\r\n  /**\r\n   * Create an observable of the payload of actions of this type (for creating effects)\r\n   *\r\n   * ex:\r\n   *   @Effect() getHero$ = HeroActionEnum.of(this.actions$, HeroActionEnum.ADD_HERO, HeroActionEnum.SAVE_HERO)\r\n   *       .switchMap(hero => this.svc.saveHero(hero)) // type-safe\r\n   *       .map(hero => HeroActionEnum.UPDATE_HERO_SUCCESS.toAction(hero))\r\n   *       .catch(handleError);\r\n   */\r\n  static of<T>(\r\n    actions$: Actions,\r\n    ...actions: ActionEnumValue<T>[]\r\n  ): Observable<T | undefined> {\r\n    const observable = actions$.ofType(\r\n      ...actions.map((action: ActionEnumValue<T>) => action.type)\r\n    );\r\n    return observable.map((action: TypedAction<T>) => action.payload);\r\n  }\r\n\r\n  /**\r\n   * For use in reducer. Acts as both a Typescript type guard and a means for\r\n   * determining which reducer code to execute.\r\n   */\r\n  static matches<T>(\r\n    action: TypedAction<T>,\r\n    ...actions: ActionEnumValue<T>[]\r\n  ): action is TypedAction<T> {\r\n    return !!actions.find(\r\n      (actionEVal: ActionEnumValue<T>) => action.type === actionEVal.type\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Create an observable of the payload of actions of this type (for creating effects)\r\n   *\r\n   * ex:\r\n   *   @Effect() getHero$ = HeroActionEnum.of(this.actions$, HeroActionEnum.ADD_HERO, HeroActionEnum.SAVE_HERO)\r\n   *       .switchMap(hero => this.svc.saveHero(hero)) // type-safe\r\n   *       .map(hero => HeroActionEnum.UPDATE_HERO_SUCCESS.toAction(hero))\r\n   *       .catch(handleError);\r\n   */\r\n  of<T>(\r\n    actions$: Actions,\r\n    ...actions: ActionEnumValue<T>[]\r\n  ): Observable<T | undefined> {\r\n    return ActionEnum.of(actions$, ...actions);\r\n  }\r\n\r\n  /**\r\n   * For use in reducer. Acts as both a Typescript type guard and a means for\r\n   * determining which reducer code to execute.\r\n   */\r\n  matches<T>(\r\n    action: TypedAction<T>,\r\n    ...actions: ActionEnumValue<T>[]\r\n  ): action is TypedAction<T> {\r\n    return ActionEnum.matches(action, ...actions);\r\n  }\r\n\r\n  fromAction(action: TypedAction<any>): V | undefined {\r\n    return this.byDescription(action.type);\r\n  }\r\n}\r\n","import {Enum, EnumValue} from 'ts-enums';\r\nimport {ActionEnumValue, TypedAction} from './action-enum';\r\nimport {isArray} from 'rxjs/util/isArray';\r\nimport {ActionReducer} from '@ngrx/store';\r\n\r\nexport type ReducerFunction<S, T> = (state: S, action: TypedAction<T>) => S;\r\n\r\nexport function simplePropertyReducer<S, T>(propName: string): ReducerFunction<S, T> {\r\n  return (state: S, action: TypedAction<T>): S => {\r\n    return Object.assign({}, state, {[propName]: action.payload});\r\n  };\r\n}\r\n\r\nfunction extractDescriptions<T>(\r\n  action: ActionEnumValue<T> | ActionEnumValue<T>[]\r\n): string {\r\n  if (isArray(action)) {\r\n    return action.map((value: ActionEnumValue<T>) => value.fullName).join(';');\r\n  } else {\r\n    return action.fullName;\r\n  }\r\n}\r\n\r\nexport abstract class ReducerEnumValue<S, T> extends EnumValue {\r\n  readonly actions: ActionEnumValue<T>[];\r\n\r\n  constructor(\r\n    action: ActionEnumValue<T> | ActionEnumValue<T>[],\r\n    private _reduce: ReducerFunction<S, T>\r\n  ) {\r\n    // if there's only one action value, use its fullName. Otherwise, concat\r\n    // the fullName of all the action values.\r\n    super(extractDescriptions(action));\r\n    // accumulate the action types to check against when reducing\r\n    this.actions = isArray(action) ? action : [action];\r\n  }\r\n\r\n  get reduce(): ReducerFunction<S, T> {\r\n    return this._reduce;\r\n  }\r\n}\r\n\r\nexport abstract class ReducerEnum<V extends ReducerEnumValue<S, any>, S> extends Enum<V> {\r\n  constructor(private initialState: S) {\r\n    super();\r\n  }\r\n\r\n  reducer<T>(): ActionReducer<S> {\r\n    // Find the appropriate enum instance for the action, if any, and return\r\n    // its reducer.\r\n    return (state: S = this.initialState, action: TypedAction<T>): S => {\r\n      const reducerInstance: V | undefined = this.fromAction(action);\r\n      return reducerInstance ? reducerInstance.reduce(state, action) : state;\r\n    };\r\n  }\r\n\r\n  protected initEnum(name: string): void {\r\n    super.initEnum(name);\r\n\r\n    // ensure that each enum is used at most once per reducer\r\n    const allActions: Set<ActionEnumValue<any>> = new Set();\r\n    this.values.forEach((value: V) => {\r\n      value.actions.forEach((action: ActionEnumValue<any>) => {\r\n        if (allActions.has(action)) {\r\n          const message = `Action ${action.fullName} is used multiple times in ${name} - this is not allowed`;\r\n          throw new Error(message);\r\n        } else {\r\n          allActions.add(action);\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n  private fromAction(action: TypedAction<any>): V | undefined {\r\n    // look through all of the reducer enum instances to find one that has the\r\n    // current action in its array of actions\r\n    return this.values.find((value: V) => {\r\n      return value.actions.some(\r\n        (type: ActionEnumValue<any>) => type.description === action.type\r\n      );\r\n    });\r\n  }\r\n}\r\n"],"names":["global","errorObject_1","__extends","isArray_1","root_1","Observer_1","rxSubscriber_1","isArray"],"mappings":"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"}